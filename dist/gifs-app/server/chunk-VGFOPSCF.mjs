import './polyfills.server.mjs';
import{$ as ie,E as U,H as q,J as E,K as z,L as C,M as K,N as Z,O as L,P as W,Q as X,R as Y,S as ee,V as te,a as P,b as _,c as T,d as a,e as y,f as d,g as u,h as B,i as c,j as g,k as w,l as x,m as o,n as r,o as p,p as v,q as h,r as I,s as A,t as V,u as H,v as l,w as S,x as $,y as J,z as Q}from"./chunk-H7GM6A4J.mjs";var F=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=y({type:i});static \u0275inj=_({imports:[C]})};var G=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=y({type:i});static \u0275inj=_({imports:[C]})};var m=class i{constructor(t){this.http=t;if(typeof localStorage<"u"){let e=localStorage.getItem("historial");e&&(this._historial=JSON.parse(e))}if(typeof localStorage<"u"){let e=localStorage.getItem("resultado");e&&(this.resultado=JSON.parse(e))}}apiKey="uheOpEFOROI2BoaHlb88W7FkidGZjVrm";servicioUrl="https://api.giphy.com/v1/gifs";_historial=[];resultado=[];get historial(){return[...this._historial]}buscarGifs(t=""){this._historial.includes(t)||(this._historial.unshift(t),this._historial=this._historial.splice(0,10),localStorage.setItem("historial",JSON.stringify(this._historial)));let e=new K().set("api_key",this.apiKey).set("limit","12").set("q",t);this.http.get(`${this.servicioUrl}/search`,{params:e}).subscribe(s=>{this.resultado=s.data,localStorage.setItem("resultado",JSON.stringify(this.resultado))})}static \u0275fac=function(e){return new(e||i)(T(Z))};static \u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"root"})};function ae(i,t){if(i&1){let e=v();o(0,"li",5),h("click",function(){let s=d(e).$implicit,b=I();return u(b.buscar(s))}),o(1,"a",6),l(2),J(3,"titlecase"),r()()}if(i&2){let e=t.$implicit;c(2),S(Q(3,1,e))}}var M=class i{constructor(t){this.gifsService=t}title="Gifs App";get historial(){return this.gifsService.historial}buscar(t){this.gifsService.buscarGifs(t)}static \u0275fac=function(e){return new(e||i)(g(m))};static \u0275cmp=a({type:i,selectors:[["app-sidebar"]],decls:6,vars:2,consts:[[1,"d-flex","flex-column","align-items-center","align-items-sm-start","px-3","pt-2","text-white","min-vh-100","gap-2"],["href","#",1,"d-flex","align-items-center","justify-content-center","mt-3","pb-3","mb-md-0","text-white","text-decoration-none","w-100"],[1,"fs-5","electric-blue-text"],[1,"nav","nav-pills","flex-column","mb-0","align-items-center","align-items-sm-start","w-100"],["class","d-flex justify-content-center w-100 mt-1",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","w-100","mt-1",3,"click"],[1,"btn","btn-light","px-4","text-center","w-100","electric-blue-text"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"a",1)(2,"span",2),l(3),r()(),o(4,"ul",3),w(5,ae,4,3,"li",4),r()()),e&2&&(c(3),S(n.title),c(2),x("ngForOf",n.historial))},dependencies:[E,z],styles:[".electric-blue-text[_ngcontent-%COMP%]{color:#0070ff}"]})};var ce=["txtBuscar"],D=class i{constructor(t){this.gifsService=t}txtBuscar;buscar(){let t=this.txtBuscar.nativeElement.value;t.trim().length&&(this.gifsService.buscarGifs(t),this.txtBuscar.nativeElement.value="")}static \u0275fac=function(e){return new(e||i)(g(m))};static \u0275cmp=a({type:i,selectors:[["app-search"]],viewQuery:function(e,n){if(e&1&&A(ce,5),e&2){let s;V(s=H())&&(n.txtBuscar=s.first)}},decls:5,vars:0,consts:[["txtBuscar",""],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],["type","text","placeholder","Buscar gifs...",1,"form-control",3,"keyup.enter"]],template:function(e,n){if(e&1){let s=v();o(0,"div",1)(1,"h5"),l(2,"Buscar:"),r(),o(3,"input",2,0),h("keyup.enter",function(){return d(s),u(n.buscar())}),r()()}}})};function me(i,t){if(i&1){let e=v();o(0,"div",2)(1,"div",3),p(2,"img",4),o(3,"div",5)(4,"h5",6),l(5),r(),o(6,"a",7),h("click",function(){let s=d(e).$implicit,b=I();return u(b.copiarEnlace(s.embed_url))}),l(7,"Copiar"),r()()()()}if(i&2){let e=t.$implicit;c(2),x("src",e.images.downsized_medium.url,B)("alt",e.alt_text),c(3),S(e.title)}}var R=class i{constructor(t){this.gifsService=t}get resultados(){return this.gifsService.resultado}copiarEnlace(t){navigator.clipboard.writeText(t).then(()=>{alert("\xA1Enlace copiado al portapapeles!")}).catch(e=>{console.error("Error al copiar el enlace: ",e)})}static \u0275fac=function(e){return new(e||i)(g(m))};static \u0275cmp=a({type:i,selectors:[["app-results"]],decls:2,vars:1,consts:[[1,"row"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-3 d-flex",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3","d-flex"],[1,"card","w-100","d-flex","flex-column","align-items-start","p-0"],[1,"card-img-top",2,"max-height","150px","object-fit","cover",3,"src","alt"],[1,"card-body","d-flex","flex-column","align-items-start","p-2"],[1,"card-title"],["href","#",1,"btn","btn-primary","btn-sm","mt-auto",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0),w(1,me,8,3,"div",1),r()),e&2&&(c(),x("ngForOf",n.resultados))},dependencies:[E]})};var j=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=a({type:i,selectors:[["app-gifs-page"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1),p(2,"app-search"),r(),p(3,"hr"),o(4,"div",1),p(5,"app-results"),r()())},dependencies:[D,R]})};var k=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=a({type:i,selectors:[["app-root"]],standalone:!0,features:[$],decls:6,vars:0,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],[1,"col-auto","col-md-3","col-xl-2","px-sm-2","px-0","bg-dark"],[1,"col","p-3"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),p(3,"app-sidebar"),r(),o(4,"div",3),p(5,"app-gifs-page"),r()()())},dependencies:[C,F,M,G,j]})};var oe=[];var re={providers:[U({eventCoalescing:!0}),ie(oe),ee(),L(W(),X())]};var ue={providers:[te()]},ne=q(re,ue);var ge=()=>Y(k,ne),Je=ge;export{Je as a};
